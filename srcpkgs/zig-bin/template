# Template file for 'zig-bin'
pkgname=zig-bin
version=0.15.2
revision=1
conflicts="zig"
short_desc="Zig compiler - binary package"
maintainer="Tiago Carvalho <t1ago_@outlook.com>"
license="MIT"
homepage="https://ziglang.org"

case ${XBPS_TARGET_MACHINE} in
	x86_64*)
		distfiles="https://ziglang.org/download/${version}/zig-x86_64-linux-${version}.tar.xz"
		checksum=02aa270f183da276e5b5920b1dac44a63f1a49e55050ebde3aecc9eb82f93239
		;;
	*)
		# NOTE: actually not entirely true, we just chose not
		# to support some architectures, because it's tedious
		broken="Target architecture not supported"
		;;
esac

do_install() {
	vmkdir usr/share/doc/zig
	vmkdir usr/lib
	cp -r doc/* ${DESTDIR}/usr/share/doc/zig/
	cp -r lib ${DESTDIR}/usr/lib/zig
	vlicense LICENSE
	vbin zig
}
